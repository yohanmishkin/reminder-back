language: python

python:
- '3.6'

script:
  - python -m unittest discover

before_deploy:
  - mkdir dist
  - cp -rf src/ dist/
  - cp -rf ~/virtualenv/python3.6.2/lib/python3.6/site-packages/** dist/
  - cd dist
  - zip -r pack.zip .

deploy:
  provider: lambda
  role: "arn:aws:iam::913654952177:role/remindr-dev-us-east-1-lambdaRole"
  runtime: python3.6
  function_name: remindr-dev-schedule_remindr
  handler_name: handler