language: python
python:
- '3.6'
script:
- python -m unittest discover
before_deploy:
- mkdir dist
- cp -rf src/ dist/
- cp -rf ~/virtualenv/python3.6.2/lib/python3.6/site-packages/** dist/
- cd dist
- zip -r pack.zip .
deploy:
  provider: lambda
  role: arn:aws:iam::913654952177:role/sls-dev-us-east-1-lambdaRole
  runtime: python3.6
  function_name: sls-dev-charge
  handler_name: handler
  zip: dist/pack.zip
  access_key_id: AKIAJ4QU3L4BHIGX7DYQ
  secret_access_key:
    secure: nbkf9VNbSTnSKtNiKqZC3esMYLxw8hpeAbsOEQQadBlDDkevXnT6avC+NxMwKcI0/25yh2zYT7oLWmax4k3pGRIQTknWDnrS0yfujgEHllUhZynEQG6tbQHh9JVwWgxKCILhb31DYnY1d6+5VwvM6zeeUs2AeFPJXBUQThotFb7RB//AkrPk5M3NKno9I8cONmL8vVmaSpywBCZ59x89OOYZRFSUbqBAjzejknijKmkKwKp7ImAKjBnSehSUIynu8pNqUimFJwqJ2rKjcBa+gkCBlo6+9FVdjEg0TCW/dqVJN3EbGl5FyjTwT4Wj9q2v2O+F8mmsJhCI+1GlBNvDh18LxU4QcHSBwT8w55muob1CQzICgujPGk3Ol0vtn15/eQOJfa2nj0wqHAz/3nyzHrWHauWPREMdK31qC/u690QuMMxeRwuESjT7mriByJwoLA6p7RwzszUHcGJttGLOqKGqxCTmM4nVkNusjZE+iHnVr1vPsMtHlKpdr3kelOtVbTsZjQ9v+tW9OBAZWolz1MUAngctwzNMrFdwKJQLNLbO2KdQ8xaVh8dj9gmTCeeh+3rBctTwVBM2wUdvLbC/Pa588Zob4TJVNIqS0jNqOTrQRRfYOCR8M8b1DdeDWShFhPGwL4QPx2HOKzLkFFituhhxIcTKis8U7xoYz9FFvIg=
